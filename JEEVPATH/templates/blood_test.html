<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Micro Clinic - Blood Test</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:wght@400;500;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
        integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <style>
        :root {
            --primary-color: #3a8a7a;
            --primary-color-dark: #26826b;
            --light-grey: #f0f0f0;
            --medium-grey: #ccc;
            --dark-grey: #555;
            --active-color: #30a88a;
            --shadow-light: rgba(0, 0, 0, 0.1);
            --shadow-medium: rgba(0, 0, 0, 0.15);
            --danger-color: #e53935;
            --danger-color-light: #fbe9e7;
        }

        body {
            margin: 0;
            font-family: 'Bricolage Grotesque', sans-serif;
            overflow: hidden;
            background-color: var(--light-grey);
        }

        .clinic-page {
            background-image: url('https://i.supaimg.com/70ab70c4-ba48-4034-bd2a-555a5e548ae4.png');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            height: 100vh;
            width: 100vw;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .smartphone-container {
            width: 320px;
            height: 568px;
            padding: 30px;
            border: 0.5px solid rgba(0, 0, 0, 0.2);
            border-radius: 30px;
            background-color: white;
            text-align: center;
            box-shadow: 0px 5px 20px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            position: relative;
            overflow: hidden;
            transition: box-shadow 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .top-icons {
            display: flex;
            justify-content: space-between;
            width: 100%;
            padding: 7px;
            box-sizing: border-box;
            position: relative;
            z-index: 20;
            flex-shrink: 0;
            opacity: 1;
            pointer-events: auto;
            transition: opacity 0.3s ease-out;
        }

        .top-icons i {
            color: lightgrey;
            font-size: 1.1em;
            cursor: pointer;
            transition: color 0.2s ease, transform 0.2s ease;
        }

        .top-icons i:hover {
            color: var(--active-color);
            transform: scale(1.1);
        }
        
        .loading-spinner {
            font-size: 0.8em;
            margin-right: 8px;
        }

        .content-wrapper {
            flex-grow: 1;
            overflow-y: auto;
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        .content-wrapper::-webkit-scrollbar {
            display: none;
        }

        .bottom-icons {
            width: 100%;
            display: flex;
            justify-content: space-around;
            padding: 12px 0;
            box-sizing: border-box;
            background-color: white;
            border-top: 1px solid #eee;
            border-bottom-left-radius: 30px;
            border-bottom-right-radius: 30px;
            margin-top: auto;
            flex-shrink: 0;
            opacity: 1;
            pointer-events: auto;
            transition: opacity 0.3s ease-out;
        }

        .bottom-icons a {
            text-decoration: none;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .bottom-icons i {
            color: lightgrey;
            font-size: 1.1em;
            cursor: pointer;
            transition: color 0.15s ease-in-out, transform 0.15s ease-in-out;
        }
        .bottom-icons i:hover {
            color: var(--primary-color);
            transform: translateY(-3px);
        }
        .bottom-icons i.active {
            color: var(--active-color);
        }
        
        .loc-header {
            font-size: 1.6em;
            font-weight: 600;
            color: var(--active-color);
            margin-top: 20px;
            margin-bottom: 25px;
            animation: fadeInUp 0.5s ease-out;
        }

        .test-buttons {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            width: 100%;
            margin-bottom: 30px; /* Increased margin */
            animation: fadeIn 0.5s ease-out 0.1s both;
            perspective: 800px; /* For 3D hover effects */
        }
        
        /* === UPGRADE START: ADVANCED BUTTON STYLES === */
        .test-button {
            background: rgba(240, 248, 245, 0.7);
            -webkit-backdrop-filter: blur(4px);
            backdrop-filter: blur(4px);
            border: 1px solid rgba(58, 138, 122, 0.2);
            color: var(--primary-color-dark);
            font-weight: 500;
            font-size: 0.9em;
            border-radius: 12px;
            padding: 14px 10px; /* Adjusted padding */
            text-align: center;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.04);
            transition: all 0.3s cubic-bezier(0.19, 1, 0.22, 1);
            cursor: pointer;
            will-change: transform, box-shadow;
        }

        .test-button:hover {
            transform: translateY(-5px) scale(1.05);
            border-color: rgba(58, 138, 122, 0.5);
            background: rgba(240, 248, 245, 1);
            box-shadow: 0 8px 25px rgba(58, 138, 122, 0.15);
            color: var(--primary-color-dark);
        }

        .test-button:active {
            transform: translateY(-2px) scale(1.02);
            box-shadow: 0 4px 10px rgba(58, 138, 122, 0.1);
            transition-duration: 0.1s;
        }

        .check-now-button {
            background-image: linear-gradient(45deg, var(--active-color) 0%, var(--primary-color-dark) 100%);
            color: white;
            border: none;
            border-radius: 50px;
            padding: 15px 35px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(48, 168, 138, 0.3);
            transition: all 0.3s cubic-bezier(0.19, 1, 0.22, 1);
            animation: breathing-glow-main 2.5s infinite ease-in-out;
            will-change: transform, box-shadow;
        }

        .check-now-button:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 10px 25px rgba(48, 168, 138, 0.4);
        }
        
        .check-now-button:active {
            transform: translateY(-2px) scale(1.02);
            box-shadow: 0 4px 12px rgba(48, 168, 138, 0.3);
            transition-duration: 0.1s;
        }
        
        @keyframes breathing-glow-main {
            0%, 100% {
                transform: scale(1);
                box-shadow: 0 5px 15px rgba(48, 168, 138, 0.3);
            }
            50% {
                transform: scale(1.03);
                box-shadow: 0 8px 22px rgba(48, 168, 138, 0.45);
            }
        }
        /* === UPGRADE END === */

        #testInfoPanel { position: absolute; top: 100%; left: 0; width: 100%; height: 100%; background: white; z-index: 50; transition: top 0.4s cubic-bezier(0.25, 0.8, 0.25, 1); pointer-events: none; border-radius: 30px; }
        #testInfoPanel.active { top: 0; pointer-events: auto; }
        .panel-content { width: 100%; height: 100%; box-sizing: border-box; padding: 50px 25px 25px 25px; overflow-y: auto; text-align: left; }
        .panel-close-button { position: absolute; top: 15px; right: 25px; font-size: 2em; font-weight: bold; color: #aaa; cursor: pointer; transition: color 0.2s ease; z-index: 55; }
        .panel-close-button:hover { color: #333; }
        .panel-content h2 { margin-top: 0; font-size: 1.5em; color: var(--active-color); border-bottom: 2px solid #e0e0e0; padding-bottom: 10px; margin-bottom: 15px; }
        .panel-content p { font-size: 0.95em; line-height: 1.5; color: var(--dark-grey); margin-bottom: 20px; animation: none; }
        .loc-process { background-color: #f8f9fa; border-radius: 10px; padding: 15px; }
        .loc-process h3 { font-size: 1.1em; margin-top: 0; margin-bottom: 10px; color: #333; animation: none; }
        .loc-process-list { list-style-type: none; padding-left: 0; margin: 0; }
        .loc-process-list li { margin-bottom: 8px; font-size: 0.9em; color: #444; display: flex; align-items: flex-start; }
        .loc-process-list li i { color: var(--active-color); margin-right: 10px; font-size: 1.1em; padding-top: 2px; }

        .slide-out, .user-slide-out { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-color: #fff; transition: transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94); padding: 30px 20px 20px 20px; box-sizing: border-box; text-align: left; overflow-y: auto; will-change: transform; border-radius: 30px; z-index: 25; }
        .slide-out { transform: translateX(-100%); }
        .user-slide-out { transform: translateX(100%); }
        .slide-out.active { transform: translateX(0); }
        .user-slide-out.active { transform: translateX(0); }
        .smartphone-container.slide-active { box-shadow: 5px 8px 25px rgba(0, 0, 0, 0.2); }
        .smartphone-container.user-slide-active { box-shadow: -5px 8px 25px rgba(0, 0, 0, 0.2); }
        .smartphone-container.slide-active .top-icons, .smartphone-container.user-slide-active .top-icons,
        .smartphone-container.slide-active .bottom-icons, .smartphone-container.user-slide-active .bottom-icons { opacity: 0; pointer-events: none; transition: opacity 0.2s ease-out; }

        .slide-out h2, .user-slide-out h2 { font-size: 1.4em; margin-top: 10px; margin-bottom: 15px; color: var(--primary-color); text-align: left; animation: fadeInUp 0.5s ease-out 0.1s both; }
        .slide-out h3, .user-slide-out h3 { font-size: 1.15em; margin-top: 18px; margin-bottom: 8px; text-align: left; color: var(--primary-color-dark); animation: fadeInUp 0.5s ease-out 0.2s both; }
        .slide-out p, .user-slide-out p { font-size: 0.9em; margin-bottom: 5px; text-align: left; color: var(--dark-grey); animation: fadeInUp 0.5s ease-out 0.3s both; line-height: 1.4; }
        
        .hospital-list { list-style-type: none; padding-left: 0; margin-top: 10px; animation: fadeInUp 0.5s ease-out 0.4s both; }
        .hospital-list li { margin-bottom: 8px; text-align: left; padding-left: 25px; position: relative; font-size: 0.9em; display: flex; align-items: center; }
        .hospital-list li::before { content: "\f479"; font-family: "Font Awesome 6 Free"; font-weight: 900; color: var(--active-color); position: absolute; left: 0; top: 50%; transform: translateY(-50%); font-size: 1.1em; }
        .hospital-list .list-placeholder { color: var(--medium-grey); font-style: italic; }

        .close-button { position: absolute; top: 15px; right: 18px; font-size: 1.7em; color: var(--medium-grey); cursor: pointer; background: none; border: none; outline: none; transition: color 0.2s, transform 0.2s; z-index: 26; padding: 5px; line-height: 1; }
        .close-button:hover { color: var(--dark-grey); transform: rotate(90deg) scale(1.1); }

        .settings-accordion { margin-top: 20px; border-top: 1px solid #eee; border-bottom: 1px solid #eee; animation: fadeInUp 0.5s ease-out 0.3s both; }
        .settings-accordion summary { font-size: 1.15em; font-weight: 500; color: var(--primary-color-dark); padding: 12px 0; cursor: pointer; list-style: none; display: flex; justify-content: space-between; align-items: center; }
        .settings-accordion summary::-webkit-details-marker { display: none; }
        .settings-accordion summary::after { content: '\f078'; font-family: 'Font Awesome 6 Free'; font-weight: 900; font-size: 0.8em; color: var(--medium-grey); transition: transform 0.2s ease-in-out; }
        .settings-accordion[open] summary::after { transform: rotate(-180deg); }
        
        .language-selector { display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; margin-top: 5px; padding-bottom: 15px; }
        .lang-button { background-color: var(--light-grey); border: 1px solid transparent; border-radius: 8px; padding: 6px 5px; font-family: 'Bricolage Grotesque', sans-serif; font-size: 0.85em; font-weight: 500; cursor: pointer; text-align: center; transition: all 0.2s ease-out; color: var(--dark-grey); }
        .lang-button:hover { background-color: #e0e0e0; transform: translateY(-1px); }
        .lang-button.active { background-color: var(--active-color); color: white; font-weight: 600; border-color: var(--primary-color-dark); box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        
        .user-profile-header { display: flex; justify-content: flex-start; align-items: center; margin-bottom: 5px; }
        .user-profile-header h2 { margin: 10px 0 10px 0; }
        .edit-profile-btn { background: none; border: none; color: var(--dark-grey); font-size: 0.9em; cursor: pointer; padding: 6px; border-radius: 50%; transition: background-color 0.2s ease, color 0.2s ease; line-height: 1; margin-left: 8px; }
        .edit-profile-btn:hover { background-color: var(--light-grey); color: var(--primary-color); }
        .user-info-display p { margin: 8px 0; font-size: 0.9em; animation: none; }
        .user-info-display p > strong { font-weight: 600; margin-right: 5px; color: var(--dark-grey); }
        #profile-edit-form { display: none; border-top: 1px solid #eee; padding-top: 15px; margin-top: 10px; }
        .user-slide-out.edit-mode .user-info-display, .user-slide-out.edit-mode .user-profile-lower-content { display: none; }
        .user-slide-out.edit-mode #profile-edit-form { display: block; animation: fadeIn 0.3s ease; }
        
        .logout-button { background: rgba(58, 138, 122, 0.1); border-radius: 20px; box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08); -webkit-backdrop-filter: blur(5px); backdrop-filter: blur(5px); border: 1px solid rgba(58, 138, 122, 0.15); padding: 10px 22px; font-size: 0.95em; font-weight: 500; color: var(--primary-color-dark); cursor: pointer; transition: all 0.25s ease; margin-top: 25px; width: fit-content; margin-left: auto; margin-right: auto; display: block; }
        .logout-button:hover { background: rgba(58, 138, 122, 0.18); border-color: rgba(58, 138, 122, 0.25); transform: translateY(-2px); box-shadow: 0 5px 15px rgba(0, 0, 0, 0.12); }
        .logout-button:active { transform: translateY(0px) scale(0.98); box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); }
        
        .reminder-section { margin-top: 20px; text-align: left; padding: 12px 15px; background-color: rgba(240, 248, 245, 0.5); border-radius: 10px; border: 1px solid rgba(58, 138, 122, 0.1); animation: fadeIn 0.6s ease-out 0.3s both; }
        .reminder-header { display: flex; justify-content: space-between; align-items: center; }
        .add-reminder-btn { background-color: var(--active-color); color: white; border: none; border-radius: 50%; width: 28px; height: 28px; font-size: 1em; cursor: pointer; transition: all 0.2s ease; }
        .add-reminder-btn:hover { transform: scale(1.1) rotate(90deg); background-color: var(--primary-color-dark); }
        .reminder-list { list-style: none; padding: 0; margin: 10px 0 0 0; }
        .reminder-list .list-placeholder { text-align: center; padding: 20px; color: var(--medium-grey); font-size: 0.9em; }
        .reminder-item { display: flex; align-items: center; justify-content: space-between; margin-bottom: 10px; padding: 10px; background-color: #fff; border-radius: 8px; box-shadow: 0 1px 3px rgba(0,0,0,0.07); animation: scaleUp 0.4s ease-out forwards; position: relative; }
        .reminder-item:last-child { margin-bottom: 0; }
        .reminder-info { display: flex; align-items: center; }
        .reminder-item i.fa-pills { font-size: 1.3em; color: var(--active-color); margin-right: 12px; flex-shrink: 0; }
        .reminder-text { display: flex; flex-direction: column; }
        .reminder-text p { animation: none; margin: 0; line-height: 1.3; }
        .reminder-text .med-name { font-weight: 600; color: #444; font-size: 0.9em; }
        .reminder-text .med-details { font-size: 0.8em; color: #777; }
        .delete-reminder-btn { background: none; border: none; color: var(--medium-grey); cursor: pointer; font-size: 1.1em; padding: 5px; transition: color 0.2s ease, transform 0.2s ease; }
        .delete-reminder-btn:hover { color: var(--danger-color); transform: scale(1.15); }
        
        .health-progress-section { margin-top: 20px; text-align: left; padding: 12px 15px; background-color: rgba(240, 248, 245, 0.5); border-radius: 10px; border: 1px solid rgba(58, 138, 122, 0.1); animation: fadeIn 0.6s ease-out 0.3s both; }
        .health-progress-section h3 { margin-bottom: 10px; }
        .progress-bar { height: 10px; background-color: #e8e8e8; border-radius: 5px; margin-top: 0; overflow: hidden; box-shadow: inset 0 1px 2px rgba(0,0,0,0.08); }
        .progress-bar-fill { height: 100%; background: linear-gradient(90deg, var(--active-color), #5fc4aa); border-radius: 5px; transition: width 1.2s cubic-bezier(0.65, 0, 0.35, 1); }
        .day-labels { display: flex; justify-content: space-between; font-size: 0.7em; margin-top: 6px; color: #888; }
        .day-labels span { flex: 1; text-align: center; }
        
        .reminder-modal-overlay { position: absolute; inset: 0; background-color: rgba(0, 0, 0, 0.5); -webkit-backdrop-filter: blur(4px); backdrop-filter: blur(4px); display: flex; justify-content: center; align-items: center; z-index: 1000; opacity: 0; visibility: hidden; transition: opacity 0.3s ease, visibility 0.3s ease; }
        .reminder-modal-overlay.active { opacity: 1; visibility: visible; }
        .reminder-modal-content { background-color: white; padding: 20px; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.2); width: 90%; max-width: 280px; transform: scale(0.9); transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1); }
        .reminder-modal-overlay.active .reminder-modal-content { transform: scale(1); }
        .reminder-modal-content h3 { margin-top: 0; margin-bottom: 15px; color: var(--primary-color); text-align: center; font-size: 1.2em; }
        .form-group { margin-bottom: 12px; text-align: left; }
        .form-group label { display: block; font-size: 0.85em; color: var(--dark-grey); margin-bottom: 4px; font-weight: 500; }
        .form-group input, .form-group select { width: 100%; padding: 9px 12px; border: 1px solid var(--medium-grey); border-radius: 8px; font-size: 0.9em; font-family: inherit; box-sizing: border-box; transition: border-color 0.2s ease, box-shadow 0.2s ease; }
        .form-group input:focus, .form-group select:focus { outline: none; border-color: var(--primary-color); box-shadow: 0 0 0 3px rgba(58, 138, 122, 0.15); }
        .modal-buttons { display: flex; gap: 10px; margin-top: 20px; }
        .modal-buttons button { flex: 1; padding: 10px; border-radius: 8px; border: 1px solid transparent; font-family: inherit; font-weight: 600; font-size: 0.9em; cursor: pointer; transition: all 0.2s ease; }
        .modal-save-btn { background-color: var(--active-color); color: white; border-color: var(--primary-color-dark); }
        .modal-save-btn:hover { background-color: var(--primary-color-dark); }
        .modal-cancel-btn { background-color: #f1f1f1; color: var(--dark-grey); }
        .modal-cancel-btn:hover { background-color: #e0e0e0; }

        @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes scaleUp { from { opacity: 0; transform: scale(0.8); } to { opacity: 1; transform: scale(1); } }
    </style>
</head>

<body>
    <div class="clinic-page">
        <div class="smartphone-container">

            <div class="top-icons">
                <i class="fas fa-bars menu-icon"></i>
                <i class="fas fa-user-circle user-icon"></i>
            </div>
            
            <div class="content-wrapper">
                <h1 class="loc-header" data-key="locHeader">Lab On Chip (LOC)</h1>
                <div class="test-buttons">
                    <button class="test-button" data-key="testMalaria">Malaria</button>
                    <button class="test-button" data-key="testDengue">Dengue</button>
                    <button class="test-button" data-key="testTyphoid">Typhoid</button>
                    <button class="test-button" data-key="testCBC">Complete Blood Count</button>
                    <button class="test-button" data-key="testLipid">Lipid Profile</button>
                    <button class="test-button" data-key="testLFT">Liver Function Test</button>
                    <button class="test-button" data-key="testGlucose">Blood Glucose</button>
                    <button class="test-button" data-key="testKFT">Kidney Function</button>
                    <button class="test-button" data-key="testThyroid">Thyroid Profile</button>
                    <button class="test-button" data-key="testVitaminD">Vitamin D</button>
                </div>
                <button class="check-now-button" data-key="checkNowBtn">Check Now</button>
            </div>

            <div class="bottom-icons">
                <a href="{{ url_for('clinic') }}" title="Clinic Home" data-key="navClinic"><i class="fas fa-clinic-medical"></i></a>
                <a href="{{ url_for('checkup') }}" title="Checkup" data-key="navCheckup"><i class="fas fa-notes-medical"></i></a>
                <a href="{{ url_for('blood_test') }}" title="Blood Test" data-key="navBloodTest"><i class="fas fa-tint active"></i></a>
                <a href="{{ url_for('scanning') }}" title="Scanning" data-key="navScanning"><i class="fas fa-qrcode"></i></a>
                <a href="{{ url_for('report') }}" title="Reports" data-key="navReports"><i class="fas fa-file-alt"></i></a>
            </div>
            
            <div id="testInfoPanel">
                <span class="panel-close-button">×</span>
                <div class="panel-content">
                    <h2 id="panelTestTitle">Test Title</h2>
                    <p id="panelTestDescription">Test description goes here.</p>
                    <div class="loc-process">
                        <h3 data-key="locProcessHeader">Lab-on-Chip Process</h3>
                        <ul id="panelTestProcess" class="loc-process-list"></ul>
                    </div>
                </div>
            </div>
            
            <div class="slide-out">
                <button class="close-button">×</button>
                <h2 data-key="menuHello">Hello User!</h2>
                <p class="location-display"><i class="fas fa-map-marker-alt"></i> Location: Rourkela, Odisha</p>
                <details class="settings-accordion">
                    <summary data-key="settingsTitle">Settings</summary>
                    <div class="language-selector">
                        <button class="lang-button" data-lang="en">English</button><button class="lang-button" data-lang="hi">हिंदी</button><button class="lang-button" data-lang="bn">বাংলা</button><button class="lang-button" data-lang="te">తెలుగు</button><button class="lang-button" data-lang="mr">मराठी</button><button class="lang-button" data-lang="ta">தமிழ்</button><button class="lang-button" data-lang="ur">اردو</button><button class="lang-button" data-lang="gu">ગુજરાતી</button><button class="lang-button" data-lang="kn">ಕನ್ನಡ</button><button class="lang-button" data-lang="or">ଓଡ଼ିଆ</button><button class="lang-button" data-lang="ml">മലയാളം</button><button class="lang-button" data-lang="pa">ਪੰਜਾਬੀ</button><button class="lang-button" data-lang="as">অসমীয়া</button>
                    </div>
                </details>
                <h3 data-key="menuHospitalsTitle">Nearby Hospitals</h3>
                <ul class="hospital-list">
                </ul>
            </div>

            <div class="user-slide-out">
                <button class="close-button">×</button>
                <div class="user-profile-header">
                    <h2 data-key="profileTitle">User Profile</h2>
                    <button class="edit-profile-btn" title="Edit Profile" data-key="editProfileTitle">
                        <i class="fas fa-pencil-alt"></i>
                    </button>
                </div>
                <div class="user-info-display">
                    <p><strong>User Id:</strong> <span>JEEV3317</span></p>
                    <p><strong data-key="profileNameLabel">Name:</strong> <span id="display-name">Sita Kumari</span></p>
                    <p><strong data-key="profileAgeLabel">Age:</strong> <span id="display-age">22</span> <span data-key="yrUnit">yr</span></p>
                    <p><strong data-key="profileGenderLabel">Gender:</strong> <span id="display-gender">Female</span></p>
                    <p><strong data-key="profileHeightLabel">Height:</strong> <span id="display-height">173</span> <span data-key="cmUnit">cm</span></p>
                    <p><strong data-key="profileWeightLabel">Weight:</strong> <span id="display-weight">71</span> <span data-key="kgUnit">kg</span></p>
                </div>
                <form id="profile-edit-form">
                    <div class="form-group">
                        <label for="edit-name" data-key="profileNameLabel">Name</label>
                        <input type="text" id="edit-name" required>
                    </div>
                    <div class="form-group">
                        <label for="edit-age" data-key="profileAgeLabel">Age</label>
                        <input type="number" id="edit-age" required>
                    </div>
                    <div class="form-group">
                        <label for="edit-gender" data-key="profileGenderLabel">Gender</label>
                        <select id="edit-gender" required>
                            <option value="Female">Female</option>
                            <option value="Male">Male</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="edit-height">Height (cm)</label>
                        <input type="number" id="edit-height" required>
                    </div>
                    <div class="form-group">
                        <label for="edit-weight">Weight (kg)</label>
                        <input type="number" id="edit-weight" required>
                    </div>
                    <div class="modal-buttons">
                        <button type="button" id="cancel-profile-edit" class="modal-cancel-btn" data-key="cancelBtn">Cancel</button>
                        <button type="submit" class="modal-save-btn" data-key="saveBtn">Save</button>
                    </div>
                </form>
                <div class="user-profile-lower-content">
                    <div class="reminder-section">
                        <div class="reminder-header">
                            <h3 data-key="profileReminders" style="margin:0;">Reminders</h3>
                            <button class="add-reminder-btn" title="Add Reminder">+</button>
                        </div>
                        <ul class="reminder-list">
                        </ul>
                    </div>
                    <div class="health-progress-section">
                        <h3 data-key="profileProgress">Your Health Progress (Week)</h3>
                        <div class="progress-bar">
                            <div class="progress-bar-fill" style="width: 65%;"></div>
                        </div>
                        <div class="day-labels">
                            <span data-key="dayMon">Mon</span><span data-key="dayTue">Tue</span><span data-key="dayWed">Wed</span><span data-key="dayThu">Thu</span><span data-key="dayFri">Fri</span><span data-key="daySat">Sat</span><span data-key="daySun">Sun</span>
                        </div>
                    </div>
                    <form method="post" action="{{ url_for('logout') }}">
                        <button type="submit" class="logout-button" data-key="logoutButton">Logout</button>
                    </form>
                </div>
            </div>
            
             <div class="reminder-modal-overlay">
                <div class="reminder-modal-content">
                    <h3 data-key="addReminderTitle">Add Medicine Reminder</h3>
                    <form id="reminder-form">
                        <div class="form-group">
                            <label for="med-name" data-key="medNameLabel">Medicine Name</label>
                            <input type="text" id="med-name" required>
                        </div>
                        <div class="form-group">
                            <label for="med-times" data-key="medTimesLabel">Times (e.g., 08:00, 22:00)</label>
                            <input type="text" id="med-times" placeholder="Comma separated, 24h format" required>
                        </div>
                        <div class="form-group">
                            <label for="med-meal" data-key="medMealLabel">Meal</label>
                            <select id="med-meal" required>
                                <option value="AF">After Food</option>
                                <option value="BF">Before Food</option>
                            </select>
                        </div>
                        <div class="modal-buttons">
                            <button type="button" class="modal-cancel-btn" data-key="cancelBtn">Cancel</button>
                            <button type="submit" class="modal-save-btn" data-key="saveBtn">Save</button>
                        </div>
                    </form>
                </div>
            </div>

        </div>
    </div>
    
    <script>
        const languageData = {
            locHeader: { en: 'Lab On Chip (LOC)', hi: 'लैब ऑन चिप (LOC)', bn: 'ল্যাব অন চিপ (LOC)', te: 'ల్యాబ్ ఆన్ చిప్ (LOC)', mr: 'लॅब ऑन चिप (LOC)', ta: 'லேப் ஆன் சிப் (LOC)', ur: 'لیب آن چپ (LOC)', gu: 'લેબ ઓન ચિપ (LOC)', kn: 'ಲ್ಯಾಬ್ ಆನ್ ಚಿಪ್ (LOC)', or: 'ଲାବ୍ ଅନ୍ ଚିପ୍ (LOC)', ml: 'ലാബ് ഓൺ ചിപ്പ് (LOC)', pa: 'ਲੈਬ ਆਨ ਚਿੱਪ (LOC)', as: 'লেব অন চিপ (LOC)' },
            testMalaria: { en: 'Malaria', hi: 'मलेरिया', bn: 'ম্যালেরিয়া', te: 'మలేరియా', mr: 'मलेरिया', ta: 'மலேரியா', ur: 'ملیریا', gu: 'મેલેરિયા', kn: 'ಮಲೇರಿಯಾ', or: 'ମ୍ୟାଲେରିଆ', ml: 'മലേറിയ', pa: 'ਮਲੇਰੀਆ', as: ' মেলেৰিয়া' },
            testDengue: { en: 'Dengue', hi: ' डेंगू', bn: 'ডেঙ্গু', te: 'డెంగ్యూ', mr: 'डेंग्यू', ta: 'டெங்கு', ur: 'ڈینگی', gu: 'ડેન્ગ્યુ', kn: 'ಡೆಂಗ್ಯೂ', or: 'ଡେଙ୍ଗୁ', ml: 'ഡെങ്കിപ്പനി', pa: 'ਡੇਂਗੂ', as: 'ডেংগু' },
            testTyphoid: { en: 'Typhoid', hi: 'टाइफाइड', bn: 'টাইফয়েড', te: 'టైఫాయిడ్', mr: 'टायफॉइड', ta: 'டைபாய்டு', ur: 'ٹائیفائیڈ', gu: 'ટાઈફોઈડ', kn: 'ಟೈಫಾಯಿಡ್', or: 'ଟାଇଫଏଡ୍', ml: 'ടൈഫോയ്ഡ്', pa: 'ਟਾਈਫਾਈਡ', as: 'টাইফয়েড' },
            testCBC: { en: 'Complete Blood Count', hi: 'पूर्ण रक्त गणना', bn: 'সম্পূর্ণ রক্ত গণনা', te: 'పూర్తి రక్త గణన', mr: 'संपूर्ण रक्त गणना', ta: 'முழுமையான இரத்த எண்ணிக்கை', ur: 'مکمل خون کی گنتی', gu: 'સંપૂર્ણ રક્ત ગણતરી', kn: 'ಸಂಪೂರ್ಣ ರಕ್ತದ ಎಣಿಕೆ', or: 'ସମ୍ପୂର୍ଣ୍ଣ ରକ୍ତ ଗଣନା', ml: 'പൂർണ്ണമായ രക്തത്തിന്റെ എണ്ണം', pa: 'ਖੂਨ ਦੀ ਪੂਰੀ ਗਿਣਤੀ', as: 'সম্পূৰ্ণ ৰক্ত গণনা' },
            testLipid: { en: 'Lipid Profile', hi: 'लिपिड प्रोफाइल', bn: 'লিপিড প্রোফাইল', te: 'లిపిడ్ ప్రొఫైల్', mr: 'लिपिड प्रोफाइल', ta: 'கொழுப்பு சுயவிவரம்', ur: 'لپڈ پروفائل', gu: 'લિપિડ પ્રોફાઇલ', kn: 'ಲಿಪಿಡ್ ಪ್ರೊಫೈಲ್', or: 'ଲିପିଡ୍ ପ୍ରୋଫାଇଲ୍', ml: 'ലിപിഡ് പ്രൊഫൈൽ', pa: 'ਲਿਪਿਡ ਪ੍ਰੋਫਾਈਲ', as: 'লিপিড প্ৰফাইল' },
            testLFT: { en: 'Liver Function Test', hi: 'लिवर फंक्शन टेस्ट', bn: 'লিভার ফাংশন টেস্ট', te: 'లివర్ ఫంక్షన్ టెస్ట్', mr: 'लिव्हर फंक्शन टेस्ट', ta: 'கல்லீரல் செயல்பாடு சோதனை', ur: 'جگر فنکشن ٹیسٹ', gu: 'ਲિવਰ ફંક્શન ટેસ્ટ', kn: 'ಯಕೃತ್ತಿನ ಕಾರ್ಯ ಪರೀಕ್ಷೆ', or: 'ଯକୃତ କାର୍ଯ୍ୟ ପରୀକ୍ଷା', ml: 'ലിവർ ഫംഗ്ഷൻ ടെസ്റ്റ്', pa: 'ਜਿਗਰ ਫੰਕਸ਼ਨ ਟੈਸਟ', as: 'যকৃত কাৰ্য্য পৰীক্ষা' },
            testGlucose: { en: 'Blood Glucose', hi: 'ब्लड ग्लूकोज', bn: 'ব্লাড গ্লুকোজ'},
            testKFT: { en: 'Kidney Function', hi: 'किडनी फंक्शन', bn: 'কিডনি ফাংশন'},
            testThyroid: { en: 'Thyroid Profile', hi: 'थाइरॉइड प्रोफाइल', bn: 'থাইরয়েড প্রোফাইল'},
            testVitaminD: { en: 'Vitamin D', hi: 'विटामिन डी', bn: 'ভিটামিন ডি'},
            checkNowBtn: { en: 'Check Now', hi: 'अभी जांचें', bn: 'এখনই পরীক্ষা করুন', te: 'ఇప్పుడే తనిఖీ చేయండి', mr: 'आता तपासा', ta: 'இப்போது சரிபார்க்கவும்', ur: 'ابھی چیک کریں', gu: 'હમણાં તપાસો', kn: 'ಈಗ ಪರಿಶೀลಿಸಿ', or: 'ଏବେ ଯାଞ୍ଚ କରନ୍ତୁ', ml: 'ഇപ്പോൾ പരിശോധിക്കുക', pa: 'ਹੁਣੇ ਜਾਂਚ ਕਰੋ', as: 'এতিয়াই পৰীক্ষা কৰক' },
            locProcessHeader: { en: 'Lab-on-Chip Process', hi: 'लैब-ऑन-चिप प्रक्रिया', bn: 'ল্যাব-অন-চিপ প্রক্রিয়া', te: 'ల్యాబ్-ఆన్-చిప్ ప్రక్రియ', mr: 'लॅब-ऑन-चिप प्रक्रिया', ta: 'லேப்-ஆன்-சிப் செயல்முறை', ur: 'لیب-آن-چپ کا عمل', gu: 'લેબ-ઓન-ચિપ પ્રક્રિયા', kn: 'ಲ್ಯಾಬ್-ಆನ್-ಚಿಪ್ ಪ್ರಕ್ರಿಯೆ', or: 'ଲ୍ୟାବ୍-ଅନ୍-ଚିପ୍ ପ୍ରକ୍ରିୟା', ml: 'ലാബ്-ഓൺ-ചിപ്പ് പ്രക്രിയ', pa: 'ਲੈਬ-ਆਨ-ਚਿੱਪ ਪ੍ਰਕਿਰਿਆ', as: 'লেব-অন-চিপ প্ৰক্ৰিয়া' },
            navClinic: { en: 'Clinic Home', hi: 'क्लिनिक होम', bn: 'ক্লিনিক হোম', te: 'క్లినిక్ హోమ్', mr: 'क्लिनिक होम', ta: 'கிளினிக் முகப்பு', ur: 'کلینک ہوم', gu: 'ક્લિનિક હોમ', kn: 'ಕ್ಲಿನಿಕ್ ಮುಖಪುಟ', or: 'କ୍ଲିନିକ୍ ହୋମ୍', ml: 'ക്ലിനിക്ക് ഹോം', pa: 'ਕਲੀਨਿਕ ਹੋਮ', as: 'ক্লিনিক হোম' },
            navCheckup: { en: 'Checkup', hi: 'जाँच', bn: 'চেকআপ', te: 'చెక్అప్', mr: 'तपासणी', ta: 'பரிசோதனை', ur: 'چیک اپ', gu: 'ચેકઅપ', kn: 'ತಪಾಸಣೆ', or: 'ଚେକଅପ୍', ml: 'പരിശോധന', pa: 'ਚੈੱਕਅੱਪ', as: 'পৰীক্ষা' },
            navBloodTest: { en: 'Blood Test', hi: 'रक्त परीक्षण', bn: 'রক্ত পরীক্ষা', te: 'రక్త పరీక్ష', mr: 'रक्त तपासणी', ta: 'இரத்த பரிசோதனை', ur: 'خون کا ٹیسٹ', gu: 'રક્ત પરીક્ષણ', kn: 'ರಕ್ತ ਪರೀಕ್ಷೆ', or: 'ରକ୍ତ ପରୀକ୍ଷା', ml: 'രക്തപരിശോധന', pa: 'ਖੂਨ ਦੀ ਜਾਂਚ', as: 'ৰক্ত পৰীক্ষা' },
            navScanning: { en: 'Scanning', hi: 'स्कैनिंग', bn: 'স্ক্যানিং', te: 'స్కానింగ్', mr: 'स्कॅनिंग', ta: 'ஸ்கேனிங்', ur: 'اسکیننگ', gu: 'સ્કેનિંગ', kn: 'ಸ್ಕ್ಯಾನಿಂಗ್', or: 'ସ୍କାନିଂ', ml: 'സ്കാനിംഗ്', pa: 'ਸਕੈਨਿੰਗ', as: 'স্কেনিং' },
            navReports: { en: 'Reports', hi: 'रिपोर्ट्स', bn: 'রিপোর্ট', te: 'నివేదికలు', mr: 'अहवाल', ta: 'அறிக்கைகள்', ur: 'رپورٹس', gu: 'રિપોર્ટ્સ', kn: 'ವರದಿಗಳು', or: 'ରିପୋର୍ଟଗୁଡିକ', ml: 'റിപ്പോർട്ടുകൾ', pa: 'ਰਿਪੋਰਟਾਂ', as: 'ৰিপৰ্ট' },
            menuHello: { en: 'Hello User!', hi: 'नमस्ते उपयोगकर्ता!', bn: 'নমস্কার ব্যবহারকারী!', te: 'హలో యూజర్!', mr: 'नमस्कार यूजर!', ta: 'வணக்கம் பயனரே!', ur: 'ہیلو صارف!', gu: 'નમસ્તે વપરાશકર્તા!', kn: 'ನಮಸ್ಕಾರ ಬಳಕೆದಾರ!', or: 'ନମସ୍କାର ବ୍ୟବହାରକାରୀ!', ml: 'ഹലോ യൂസർ!', pa: 'ਸਤ ਸ੍ਰੀ ਅਕਾਲ ਯੂਜ਼ਰ!', as: 'নমস্কাৰ ব্যৱহাৰকাৰী!' },
            settingsTitle: { en: 'Settings', hi: 'सेटिंग्स', bn: 'সেটিংস', te: 'సెట్టింగ్‌లు', mr: 'सेटिंग्ज', ta: 'அமைப்புகள்', ur: 'سیٹنگز', gu: 'સેટિંગ્સ', kn: 'ಸಂಯೋਜನೆಗಳು', or: 'ସେଟିଂସମୂହ', ml: 'ക്രമീകരണങ്ങൾ', pa: 'ਸੈਟਿੰਗਾਂ', as: 'ছেটিংসমূহ' },
            menuHospitalsTitle: { en: 'Nearby Hospitals', hi: 'आस-पास के अस्पताल', bn: 'কাছাকাছি হাসপাতাল', te: 'సమీపంలోని ఆసుపత్రులు', mr: 'जवळपासची रुग्णालये', ta: 'அருகிலுள்ள மருத்துவமனைகள்', ur: 'قریبی ہسپتال', gu: 'ਨજીકની હોસ્પિટલો', kn: 'ಹತ್ತಿರದ ಆಸ್ಪತ್ರೆಗಳು', or: 'ନିକଟବର୍ତ୍ତୀ ହସ୍ପିଟାଲଗୁଡିକ', ml: 'സമീപത്തുള്ള ആശുപത്രികൾ', pa: 'ਨੇੜਲੇ ਹਸਪਤਾਲ', as: 'ওচৰৰ চিকিৎসালয়' },
            profileTitle: { en: 'User Profile', hi: 'उपयोगकर्ता प्रोफ़ाइल', bn: 'ব্যবহারকারী প্রোফাইল', te: 'యూజర్ ప్రొఫైల్', mr: 'वापरकर्ता प्रोफाइल', ta: 'பயனர் சுயவிவரம்', ur: 'صارف پروفائل', gu: 'વપરાશકર્તા પ્રોફાઇલ', kn: 'ಬಳಕೆದಾರರ ಪ್ರೊಫೈಲ್', or: 'ବ୍ୟବହାରକାରୀ ପ୍ରୋଫାଇଲ୍', ml: 'ഉപയോക്തൃ പ്രൊഫൈൽ', pa: 'ਉਪਭੋਗਤਾ ਪ੍ਰੋਫਾਈਲ', as: 'ব্যৱহাৰকাৰীৰ প্ৰফাইল' },
            editProfileTitle: { en: 'Edit Profile', hi: 'प्रोफ़ाइल संपादित करें', bn: 'প্রোফাইল সম্পাদনা করুন', te: 'ప్రొఫైల్ సవరించండి', mr: 'प्रोफाइल संपादित करा', ta: 'சுயவிவரத்தைத் திருத்து', ur: 'پروفائل میں ترمیم کریں', gu: 'પ્રોફાઇલ સંપાદિત કરો', kn: 'ಪ್ರೊಫೈಲ್ ಸಂಪಾದಿಸಿ', or: 'ପ୍ରୋଫାଇଲ୍ ସମ୍ପାଦନ କରନ୍ତୁ |', ml: 'പ്രൊഫൈൽ എഡിറ്റുചെയ്യുക', pa: 'ਪ੍ਰੋਫਾਈਲ ਸੰਪਾਦਿਤ ਕਰੋ', as: 'প্ৰফাইল সম্পাদনা কৰক' },
            profileNameLabel: { en: 'Name:', hi: 'नाम:', bn: 'নাম:', te: 'పేరు:', mr: 'नाव:', ta: 'பெயர்:', ur: 'نام:', gu: 'નામ:', kn: 'ಹೆಸರು:', or: 'ନାମ:', ml: 'പേര്:', pa: 'ਨਾਮ:', as: 'নাম:' },
            profileAgeLabel: { en: 'Age:', hi: 'आयु:', bn: 'বয়স:', te: 'వయస్సు:', mr: 'वय:', ta: 'வயது:', ur: 'عمر:', gu: 'ઉંમર:', kn: 'ವಯಸ್ಸು:', or: 'ବୟସ:', ml: 'വയസ്സ്:', pa: 'ਉਮਰ:', as: 'বয়স:' },
            yrUnit: { en: 'yr', hi: 'वर्ष', bn: 'বছর', te: 'సం', mr: 'वर्षे', ta: 'ஆண்டு', ur: 'سال', gu: 'વર્ષ', kn: 'ವರ್ಷ', or: 'ବର୍ଷ', ml: 'വർഷം', pa: 'ਸਾਲ', as: 'বছৰ' },
            profileGenderLabel: { en: 'Gender:', hi: 'लिंग:', bn: 'লিঙ্গ:', te: 'లింగం:', mr: 'लिंग:', ta: 'பாலினம்:', ur: 'جنس:', gu: 'જાતિ:', kn: 'ಲಿಂಗ:', or: 'ଲିଙ୍ଗ:', ml: 'ലിംഗം', pa: 'ਲਿੰਗ:', as: 'লিংগ:' },
            profileHeightLabel: { en: 'Height:', hi: 'ऊंचाई:', bn: 'উচ্চতা:', te: 'ఎత్తు:', mr: 'उंची:', ta: 'உயரம்:', ur: 'قد:', gu: 'ઊંચાઈ:', kn: 'ಎತ್ತರ:', or: 'ଉଚ୍ଚତା:', ml: 'ഉയരം:', pa: 'ਕੱਦ:', as: 'উচ্চতা:' },
            cmUnit: { en: 'cm', hi: 'सेमी', bn: 'সেমি', te: 'సెం.మీ.', mr: 'सेमी', ta: 'செ.மீ.', ur: 'سینٹی میٹر', gu: 'સેમી', kn: 'ಸೆಂ', or: 'ସେମି', ml: 'സെ.മീ', pa: 'ਸੈਮੀ', as: 'ছে.মি.' },
            profileWeightLabel: { en: 'Weight:', hi: 'वजन:', bn: 'ওজন:', te: 'బరువు:', mr: 'वजन:', ta: 'எடை:', ur: 'وزن:', gu: 'વજન:', kn: 'ತೂಕ:', or: 'ଓଜନ:', ml: 'ഭാരം:', pa: 'ਭਾਰ:', as: 'ওজন:' },
            kgUnit: { en: 'kg', hi: 'किलो', bn: 'কেজি', te: 'కిలోలు', mr: 'किलो', ta: 'கிலோ', ur: 'کلوگرام', gu: 'કિલો', kn: 'ಕೆಜಿ', or: 'କିଗ୍ରା', ml: 'കിലോ', pa: 'ਕਿਲੋ', as: 'কিলোগ্ৰাম' },
            profileReminders: { en: 'Reminders', hi: 'रिमाइंडर', bn: 'অনুস্মারক', te: 'రిమైండర్‌లు', mr: 'स्मरणपत्रे', ta: 'நினைவூட்டல்கள்', ur: 'یاد دہانیاں', gu: 'રીમાઇન્ડર્સ', kn: 'ಜ್ಞಾಪನೆಗಳು', or: 'ସ୍ମାରକପତ୍ର', ml: 'ഓർമ്മപ്പെടുത്തലുകൾ', pa: 'ਰੀਮਾਈਂਡਰ', as: 'স্মাৰক' },
            profileProgress: { en: 'Your Health Progress (Week)', hi: 'आपकी स्वास्थ्य प्रगति (सप्ताह)', bn: 'আপনার স্বাস্থ্য অগ্রগতি (সপ্তাহ)', te: 'మీ ఆరోగ్య పురోగతి (వారం)', mr: 'तुमची आरोग्य प्रगती (आठवडा)', ta: 'உங்கள் சுகாதார முன்னேற்றம் (வாரம்)', ur: 'آپ کی صحت کی پیشرفت (ہفتہ)', gu: 'તમારી આરોગ્ય પ્રગતિ (અઠવાડિયું)', kn: 'ನಿಮ್ಮ ಆರೋগ্য ಪ್ರಗತಿ (ವಾರ)', or: 'ଆପଣଙ୍କ ସ୍ୱାସ୍ଥ୍ୟ ପ୍ରଗତି (ସପ୍ତାହ)', ml: 'നിങ്ങളുടെ ആരോഗ്യ പുരോഗതി (ആഴ്ച)', pa: 'ਤੁਹਾਡੀ ਸਿਹਤ ਦੀ ਪ੍ਰਗਤੀ (ਹਫ਼ਤਾ)', as: 'আপোনাৰ স্বাস্থ্যৰ প্ৰগতি (সপ্তাহ)' },
            logoutButton: { en: 'Logout', hi: 'लॉग आउट', bn: 'লগআউট', te: 'లాగ్ అవుట్', mr: 'لॉग आउट', ta: 'வெளியேறு', ur: 'لاگ آوٹ', gu: 'ਲૉગ ਆઉਟ', kn: 'ಲಾಗ್ ಔਟ', or: 'ଲଗଆଉଟ୍', ml: 'ലോഗ്ഔട്ട്', pa: 'ਲਾਗ ਆਊਟ', as: 'লগ আউট' },
            dayMon: { en: 'Mon', hi: 'सोम', bn: 'সোম', te: 'సోమ', mr: 'సోమ', ta: 'திங்', ur: 'پیر', gu: 'સોમ', kn: 'ಸೋಮ', or: 'ସୋମ', ml: 'തിങ്കൾ', pa: 'ਸੋਮ', as: 'সোম' },
            dayTue: { en: 'Tue', hi: 'मंगल', bn: 'মঙ্গল', te: 'మంగళ', mr: 'మంగళ', ta: 'செவ்', ur: 'منگل', gu: 'મંગળ', kn: 'ಮಂಗಳ', or: 'ମଙ୍ଗଳ', ml: 'ചൊവ്വ', pa: 'ਮੰਗਲ', as: 'মঙ্গল' },
            dayWed: { en: 'Wed', hi: 'बुध', bn: 'বুধ', te: 'బుధ', mr: 'बुध', ta: 'புத', ur: 'بدھ', gu: 'બુધ', kn: 'ബുಧ', or: 'ବୁଧ', ml: 'ബുധൻ', pa: 'ਬੁਧ', as: 'বুধ' },
            dayThu: { en: 'Thu', hi: 'गुरु', bn: 'বৃহ', te: 'గురు', mr: 'गुरु', ta: 'வியா', ur: 'جمعرات', gu: 'ગુરુ', kn: 'ಗುರು', or: 'ଗୁରୁ', ml: 'വ്യാഴം', pa: 'ਵੀਰ', as: 'বৃহ' },
            dayFri: { en: 'Fri', hi: 'शुक्र', bn: 'শুক্র', te: 'శుక్ర', mr: 'शुक्र', ta: 'வெள்', ur: 'جمعہ', gu: 'શુક્ર', kn: 'ಶುಕ್ರ', or: 'ଶୁକ୍ର', ml: 'വെള്ളി', pa: 'ਸ਼ੁੱਕਰ', as: 'שুক্ৰ' },
            daySat: { en: 'Sat', hi: 'शनि', bn: 'שনি', te: 'శని', mr: 'शनि', ta: 'சனி', ur: 'ہفتہ', gu: 'શનિ', kn: 'ಶನಿ', or: 'ଶନି', ml: 'ശനി', pa: 'ਸ਼ਨੀ', as: 'שনি' },
            daySun: { en: 'Sun', hi: 'रवि', bn: 'রবি', te: 'ఆది', mr: 'रवि', ta: 'ஞாயி', ur: 'اتوار', gu: 'રવિ', kn: 'ರವಿ', or: 'ରବି', ml: 'ഞായർ', pa: 'ਐਤ', as: 'ৰবি' },
            addReminderTitle: {en: 'Add Medicine Reminder', hi: 'दवा अनुस्मारक जोड़ें', bn: 'ঔষধ রিমাইন্ডার যোগ করুন'},
            medNameLabel: {en: 'Medicine Name', hi: 'दवा का नाम', bn: 'ঔষধের নাম'},
            medTimesLabel: {en: 'Times (e.g., 08:00, 22:00)', hi: 'समय (उदा. 08:00, 22:00)', bn: 'সময় (উদাঃ 08:00, 22:00)'},
            medMealLabel: {en: 'Meal', hi: 'भोजन', bn: 'খাবার'},
            cancelBtn: {en: 'Cancel', hi: 'रद्द करें', bn: 'বাতিল'},
            saveBtn: {en: 'Save', hi: 'सहेजें', bn: 'সংরক্ষণ'},
        };
        const testData = {
            'Malaria': { description: 'This test detects the presence of Plasmodium parasites, which cause Malaria, in your blood.', process: ['A single drop of blood is collected via a painless prick.','The sample is applied to the microfluidic chip.','The chip isolates and uses bio-receptors to tag specific Malaria antigens.','An optical sensor reads the results, providing a diagnosis within 20 minutes.'] },
            'Dengue': { description: 'This test identifies Dengue virus antigens (NS1) or antibodies (IgG/IgM) for rapid diagnosis.', process: ['A small blood sample is placed on the chip.','Specific bio-receptors on the chip bind to Dengue markers.','This binding action produces a detectable visual or electrical signal.','Results are analyzed and displayed quickly, often within 15 minutes.'] },
            'Typhoid': { description: 'Detects Salmonella Typhi bacteria, the causative agent of typhoid fever.', process: ['The chip uses micro-scale Polymerase Chain Reaction (PCR).','It rapidly amplifies bacterial DNA from the blood sample.','This method provides highly sensitive and specific detection.','A definitive result is typically available in under an hour.'] },
            'Complete Blood Count': { description: 'Provides a comprehensive overview of your blood cells, including Red Blood Cells, White Blood Cells, and Platelets.', process: ['Blood flows through micro-channels on the chip.','Impedance sensors or micro-cameras count and differentiate each cell type.','Hemoglobin and hematocrit levels are measured simultaneously.','The process is fully automated and much faster than traditional lab counts.'] },
            'Lipid Profile': { description: 'Measures cholesterol (Total, LDL, HDL) and triglyceride levels to assess cardiovascular risk.', process: ['The blood sample is processed on the chip through enzymatic reactions.','These reactions produce colorimetric (color) changes.','An integrated optical sensor reads these changes to quantify different lipid types.','A complete lipid profile is generated from a single drop of blood.'] },
            'Liver Function Test': { description: 'Assesses liver health by measuring levels of key proteins and enzymes like ALT, AST, and Bilirubin.', process: ['The chip facilitates multiple, parallel chemical reactions in micro-wells.','This allows for the quick measurement of several analytes from one sample.','Results are determined through electrochemical or optical sensing.','Provides a comprehensive liver panel on-the-spot.'] },
            'Blood Glucose': { description: 'Measures the amount of glucose (sugar) in your blood, crucial for diabetes management.', process: ['The chip uses an electrochemical sensor coated with glucose oxidase enzyme.','When blood is applied, the enzyme reacts with glucose, producing an electrical current.','The strength of the current is directly proportional to the glucose level.','A precise reading is available in less than 10 seconds.'] },
            'Kidney Function': { description: 'Assesses kidney health by measuring levels of creatinine and Blood Urea Nitrogen (BUN).', process: ['The chip has separate reaction zones for creatinine and urea.','Enzymatic reactions cause measurable changes in conductivity or color.','On-chip micro-pumps ensure precise sample handling and mixing.','Provides a quick evaluation of key kidney health indicators.'] },
            'Thyroid Profile': { description: 'Measures Thyroid-Stimulating Hormone (TSH) to screen for thyroid disorders.', process: ['Uses an immunoassay on the chip with antibodies specific to TSH.','The binding of TSH antigens from the blood sample creates a detectable signal.','The chip uses magnetic nanoparticles to enhance signal sensitivity.','Results are comparable to traditional lab tests but delivered much faster.'] },
            'Vitamin D': { description: 'Measures the level of 25-hydroxyvitamin D in the blood to check for deficiency.', process: ['A competitive immunoassay is performed on the microfluidic chip.','The patient\'s Vitamin D competes with a known amount of labeled Vitamin D.','An optical sensor reads the resulting fluorescence or color intensity.','This enables rapid, on-the-spot quantification of Vitamin D levels.'] }
        };
        const languageTestData = {
            'Malaria': { hi: { title: 'मलेरिया टेस्ट', description: 'यह परीक्षण आपके रक्त में प्लास्मोडियम परजीवी की उपस्थिति का पता लगाता है, जो मलेरिया का कारण बनता है।', process: ['एक दर्द रहित चुभन के माध्यम से रक्त की एक बूंद एकत्र की जाती है।','नमूने को माइक्रोफ्लुइडिक चिप पर लगाया जाता है।','चिप मलेरिया के विशिष्ट प्रतिजनों को टैग करने के लिए जैव-रिसेप्टर्स का उपयोग करती है।','एक ऑप्टिकल सेंसर परिणामों को पढ़ता है, 20 मिनट के भीतर निदान प्रदान करता है।'] } },
            'Dengue': { hi: { title: 'डेंगू टेस्ट', description: 'यह परीक्षण तेजी से निदान के लिए डेंगू वायरस एंटीजन (NS1) या एंटीबॉडी (IgG/IgM) की पहचान करता है।', process: ['चिप पर खून का एक छोटा नमूना रखा जाता है।','चिप पर मौजूद विशिष्ट बायो-रिसेप्टर्स डेंगू मार्करों से जुड़ जाते हैं।','यह बंधन क्रिया एक पता लगाने योग्य दृश्य या विद्युत संकेत उत्पन्न करती है।','परिणामों का विश्लेषण किया जाता है और अक्सर 15 मिनट के भीतर जल्दी से प्रदर्शित किया जाता है।'] } },
            'Typhoid': { hi: { title: 'टाइफाइड टेस्ट', description: 'टाइफाइड बुखार के प्रेरक एजेंट साल्मोनेला टाइफी बैक्टीरिया का पता लगाता है।', process: ['चिप माइक्रो-स्केल पोलीमरेज़ चेन रिएक्शन (पीसीआर) का उपयोग करती है।','यह रक्त के नमूने से जीवाणु डीएनए को तेजी से बढ़ाता है।','यह विधि अत्यधिक संवेदनशील और विशिष्ट पहचान प्रदान करती है।','एक निश्चित परिणाम आमतौर पर एक घंटे के भीतर उपलब्ध होता है।'] } },
            'Complete Blood Count': { hi: { title: 'पूर्ण रक्त गणना', description: 'लाल रक्त कोशिकाओं, श्वेत रक्त कोशिकाओं और प्लेटलेट्स सहित आपकी रक्त कोशिकाओं का एक व्यापक अवलोकन प्रदान करता है।', process: ['रक्त चिप पर माइक्रो-चैनलों के माध्यम से बहता है।','इम्पीडेंस सेंसर या माइक्रो-कैमरे प्रत्येक कोशिका प्रकार की गिनती और अंतर करते हैं।','हीमोग्लोबिन और हेमटोक्रिट स्तर एक साथ मापा जाता है।','प्रक्रिया पूरी तरह से स्वचालित है और पारंपरिक लैब काउंट से बहुत तेज है।'] } },
            'Lipid Profile': { hi: { title: 'लिपिड प्रोफाइल टेस्ट', description: 'हृदय संबंधी जोखिम का आकलन करने के लिए कोलेस्ट्रॉल (कुल, एलडीएल, एचडीएल) और ट्राइग्लिसराइड के स्तर को मापता है।', process: ['रक्त के नमूने को एंजाइमी प्रतिक्रियाओं के माध्यम से चिप पर संसाधित किया जाता है।','ये प्रतिक्रियाएं वर्णमिति (रंग) परिवर्तन उत्पन्न करती हैं।','एक एकीकृत ऑप्टिकल सेंसर विभिन्न लिपिड प्रकारों की मात्रा निर्धारित करने के लिए इन परिवर्तनों को पढ़ता है।','रक्त की एक बूंद से एक पूर्ण लिपिड प्रोफाइल उत्पन्न होता है।'] } },
            'Liver Function Test': { hi: { title: 'लीवर फंक्शन टेस्ट', description: 'एएलटी, एएसटी, और बिलीरुबिन जैसे प्रमुख प्रोटीन और एंजाइम के स्तर को मापकर यकृत के स्वास्थ्य का आकलन करता है।', process: ['चिप माइक्रो-वेल्स में कई, समानांतर रासायनिक प्रतिक्रियाओं की सुविधा प्रदान करती है।','यह एक नमूने से कई एनालिटिक्स के त्वरित माप की अनुमति देता है।','परिणाम इलेक्ट्रोकेमिकल या ऑप्टICAL सेंसिंग के माध्यम से निर्धारित किए जाते हैं।','स्थान पर एक व्यापक यकृत पैनल प्रदान करता है।'] } },
            'Blood Glucose': { hi: { title: 'ब्लड ग्लूकोज टेस्ट', description: 'मधुमेह प्रबंधन के लिए महत्वपूर्ण, आपके रक्त में ग्लूकोज (शर्करा) की मात्रा को मापता है।', process: ['चिप ग्लूकोज ऑक्सीडेज एंजाइम से लेपित एक इलेक्ट्रोकेमिकल सेंसर का उपयोग करती है।','जब रक्त लगाया जाता है, तो एंजाइम ग्लूकोज के साथ प्रतिक्रिया करता है, जिससे एक विद्युत प्रवाह उत्पन्न होता है।','करंट की ताकत ग्लूकोज के स्तर के सीधे आनुपातिक है।','10 सेकंड से भी कम समय में एक सटीक रीडिंग उपलब्ध हो जाती है।'] } },
            'Kidney Function': { hi: { title: 'किडनी फंक्शन टेस्ट', description: 'क्रिएटिनिन और रक्त यूरिया नाइट्रोजन (बीयूएन) के स्तर को मापकर गुर्दे के स्वास्थ्य का आकलन करता है।', process: ['चिप में क्रिएटिनिन और यूरिया के लिए अलग-अलग प्रतिक्रिया क्षेत्र होते हैं।','एंजाइमेटिक प्रतिक्रियाएं चालकता या रंग में मापने योग्य परिवर्तन का कारण बनती हैं।','ऑन-चिप माइक्रो-पंप सटीक नमूना हैंडलिंग और मिश्रण सुनिश्चित करते हैं।','प्रमुख गुर्दा स्वास्थ्य संकेतकों का त्वरित मूल्यांकन प्रदान करता है।'] } },
            'Thyroid Profile': { hi: { title: 'थायरॉयड प्रोफाइल टेस्ट', description: 'थायरॉयड विकारों की जांच के लिए थायराइड-उत्तेजक हार्मोन (टीएसएच) को मापता है।', process: ['टीएसएच के लिए विशिष्ट एंटीबॉडी के साथ चिप पर एक इम्यूनोएसे का उपयोग करता है।','रक्त के नमूने से टीएसएच एंटीजन का बंधन एक पता लगाने योग्य संकेत बनाता है।','चिप सिग्नल संवेदनशीलता को बढ़ाने के लिए चुंबकीय नैनोकणों का उपयोग करती है।','परिणाम पारंपरिक लैब परीक्षणों के बराबर हैं लेकिन बहुत तेजी से दिए जाते हैं।'] } },
            'Vitamin D': { hi: { title: 'विटामिन डी टेस्ट', description: 'कमी की जांच के लिए रक्त में 25-हाइड्रॉक्सीविटामिन डी के स्तर को मापता है।', process: ['माइक्रोफ्लुइडिक चिप पर एक प्रतिस्पर्धी इम्यूनोएसे किया जाता है।','रोगी का विटामिन डी लेबल वाले विटामिन डी की ज्ञात मात्रा के साथ प्रतिस्पर्धा करता है।','एक ऑप्टिकल सेंसर परिणामी प्रतिदीप्ति या रंग की तीव्रता को पढ़ता है।','यह विटामिन डी के स्तरों का मौके पर ही तेजी से मात्रात्मक निर्धारण करने में सक्षम बनाता है।'] } }
        };

        document.addEventListener('DOMContentLoaded', () => {

            // --- GLOBAL SELECTORS ---
            const smartphoneContainer = document.querySelector('.smartphone-container');
            const menuIcon = document.querySelector('.menu-icon');
            const userIcon = document.querySelector('.user-icon');
            const bottomIconContainer = document.querySelector('.bottom-icons');
            const slideOut = document.querySelector('.slide-out');
            const userSlideOut = document.querySelector('.user-slide-out');
            const closeButtons = document.querySelectorAll('.close-button');

            // --- INITIAL SETUP ---
            const savedLang = localStorage.getItem('preferredLanguage') || 'en';
            changeLanguage(savedLang);

            // --- GEOLOCATION & HOSPITALS ---
            const locationDisplay = document.querySelector('.location-display');
            const hospitalList = document.querySelector('.slide-out .hospital-list');
            let hasFetchedLocation = false;
            
            // --- REMINDER MANAGEMENT ---
            const reminderModal = document.querySelector('.reminder-modal-overlay');
            const addReminderBtn = document.querySelector('.add-reminder-btn');
            const cancelReminderBtn = document.querySelector('.modal-cancel-btn');
            const reminderForm = document.getElementById('reminder-form');
            const reminderList = document.querySelector('.user-slide-out .reminder-list');
            let reminders = JSON.parse(localStorage.getItem('microClinicReminders')) || [];
            renderReminders();

            // --- PROFILE EDITING ---
            const userSlideOutPanel = document.querySelector('.user-slide-out');
            const editProfileBtn = document.querySelector('.edit-profile-btn');
            const profileEditForm = document.querySelector('#profile-edit-form');
            const cancelProfileEditBtn = document.querySelector('#cancel-profile-edit');
            const displayName = document.querySelector('#display-name');
            const displayAge = document.querySelector('#display-age');
            const displayGender = document.querySelector('#display-gender');
            const displayHeight = document.querySelector('#display-height');
            const displayWeight = document.querySelector('#display-weight');
            const editName = document.querySelector('#edit-name');
            const editAge = document.querySelector('#edit-age');
            const editGender = document.querySelector('#edit-gender');
            const editHeight = document.querySelector('#edit-height');
            const editWeight = document.querySelector('#edit-weight');
            
            // --- LANGUAGE SCRIPT ---
            const languageSelector = document.querySelector('.language-selector');

            function changeLanguage(lang) {
                if (!lang) return;
                document.documentElement.lang = lang; 
                document.querySelectorAll('[data-key]').forEach(elem => {
                    const key = elem.dataset.key;
                    const translation = languageData[key]?.[lang];

                    if (translation) {
                        if (elem.nodeName === 'INPUT' && elem.placeholder) {
                            elem.placeholder = translation;
                        } else if (elem.title) {
                            elem.title = translation;
                        } else {
                            elem.textContent = translation;
                        }
                    }
                });
                document.querySelectorAll('.lang-button').forEach(btn => {
                    btn.classList.toggle('active', btn.dataset.lang === lang);
                });
                localStorage.setItem('preferredLanguage', lang);
            }

            languageSelector.addEventListener('click', (event) => {
                const button = event.target.closest('.lang-button');
                if (button) {
                    changeLanguage(button.dataset.lang);
                }
            });
            
            // --- SIDE PANEL & NAVIGATION LOGIC ---
            bottomIconContainer.addEventListener('click', function (event) {
                const link = event.target.closest('a');
                if (link && bottomIconContainer.contains(link)) {
                    bottomIconContainer.querySelectorAll('i').forEach(icon => icon.classList.remove('active'));
                    const iconInLink = link.querySelector('i');
                    if (iconInLink) iconInLink.classList.add('active');
                }
            });

            menuIcon.addEventListener('click', (e) => {
                e.stopPropagation();
                closeAllSlides(userSlideOut);
                slideOut.classList.add('active');
                smartphoneContainer.classList.add('slide-active');
                if (!hasFetchedLocation) handleGeolocation();
            });

            userIcon.addEventListener('click', (e) => {
                e.stopPropagation();
                closeAllSlides(slideOut);
                userSlideOut.classList.add('active');
                smartphoneContainer.classList.add('user-slide-active');
            });
            
            closeButtons.forEach(button => {
                button.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const panelToClose = e.target.closest('.slide-out, .user-slide-out');
                    closeSlide(panelToClose);
                });
            });

            function closeSlide(panelElement) {
                if (!panelElement || !panelElement.classList.contains('active')) return;
                panelElement.classList.remove('active');
                if(panelElement.classList.contains('user-slide-out') && panelElement.classList.contains('edit-mode')){
                    exitEditMode();
                }
                if (panelElement.classList.contains('slide-out')) {
                    smartphoneContainer.classList.remove('slide-active');
                } else if (panelElement.classList.contains('user-slide-out')) {
                    smartphoneContainer.classList.remove('user-slide-active');
                }
            }

            function closeAllSlides(...panelsToKeepOpen) {
                [slideOut, userSlideOut].forEach(panel => {
                    if (!panelsToKeepOpen.includes(panel)) closeSlide(panel);
                });
            }

            // --- GEOLOCATION AND NEARBY PLACES LOGIC ---
            function handleGeolocation() {
                locationDisplay.innerHTML = `<i class="fas fa-spinner fa-spin loading-spinner"></i> Finding location...`;
                hospitalList.innerHTML = `<li class="list-placeholder"><i class="fas fa-spinner fa-spin loading-spinner"></i> Loading hospitals...</li>`;
                
                if (navigator.geolocation) {
                    navigator.geolocation.getCurrentPosition(
                        (position) => {
                            const { latitude, longitude } = position.coords;
                            fetchReverseGeocode(latitude, longitude);
                            fetchNearbyHospitals(latitude, longitude);
                            hasFetchedLocation = true;
                        },
                        (error) => {
                            console.error(`Geolocation error: ${error.message}`);
                            locationDisplay.innerHTML = `<i class="fas fa-exclamation-triangle"></i> Location access denied.`;
                            hospitalList.innerHTML = `<li class="list-placeholder">Cannot fetch hospitals without location.</li>`;
                        }
                    );
                } else {
                     locationDisplay.innerHTML = `<i class="fas fa-exclamation-triangle"></i> Geolocation not supported.`;
                     hospitalList.innerHTML = ``;
                }
            }
            
            async function fetchReverseGeocode(lat, lon) {
                await new Promise(resolve => setTimeout(resolve, 800));
                locationDisplay.innerHTML = `<i class="fas fa-map-marker-alt"></i> Location: Bhubaneswar, Odisha`;
            }

            async function fetchNearbyHospitals(lat, lon) {
                await new Promise(resolve => setTimeout(resolve, 1500));
                const simulatedHospitals = [
                    { name: 'AIIMS Hospital', distance: '1.2km' },
                    { name: 'Apollo Hospital', distance: '2.5km' },
                    { name: 'AMRI Hospital', distance: '3.1km' },
                    { name: 'Kar Clinic', distance: '4.0km' }
                ];
                hospitalList.innerHTML = '';
                simulatedHospitals.forEach(hospital => {
                    const li = document.createElement('li');
                    li.textContent = `${hospital.name}: ${hospital.distance}`;
                    hospitalList.appendChild(li);
                });
            }

            // --- PROFILE EDITING LOGIC ---
            function enterEditMode() {
                editName.value = displayName.textContent.trim();
                editAge.value = displayAge.textContent.trim();
                editGender.value = displayGender.textContent.trim();
                editHeight.value = displayHeight.textContent.trim();
                editWeight.value = displayWeight.textContent.trim();
                userSlideOutPanel.classList.add('edit-mode');
            }

            function exitEditMode() {
                userSlideOutPanel.classList.remove('edit-mode');
            }

            editProfileBtn.addEventListener('click', enterEditMode);
            cancelProfileEditBtn.addEventListener('click', exitEditMode);
            
            profileEditForm.addEventListener('submit', (e) => {
                e.preventDefault();
                displayName.textContent = editName.value.trim();
                displayAge.textContent = editAge.value.trim();
                displayGender.textContent = editGender.value.trim();
                displayHeight.textContent = editHeight.value.trim();
                displayWeight.textContent = editWeight.value.trim();
                exitEditMode();
            });
            
            // --- MEDICINE REMINDER LOGIC ---
            function openReminderModal() { reminderModal.classList.add('active'); }
            function closeReminderModal() { reminderModal.classList.remove('active'); reminderForm.reset(); }

            function saveReminders() {
                localStorage.setItem('microClinicReminders', JSON.stringify(reminders));
            }
            
            function renderReminders() {
                reminderList.innerHTML = '';
                if (reminders.length === 0) {
                    reminderList.innerHTML = `<p class="list-placeholder">No reminders added yet.</p>`;
                    return;
                }
                
                reminders.forEach(reminder => {
                    const reminderEl = document.createElement('li');
                    reminderEl.className = 'reminder-item';
                    reminderEl.dataset.id = reminder.id;
                    reminderEl.innerHTML = `
                        <div class="reminder-info">
                             <i class="fas fa-pills"></i>
                             <div class="reminder-text">
                                <p class="med-name">${reminder.name}</p>
                                <p class="med-details">${reminder.times} - ${reminder.meal}</p>
                             </div>
                        </div>
                        <button class="delete-reminder-btn" title="Delete Reminder"><i class="fas fa-trash-alt"></i></button>
                    `;
                    reminderList.appendChild(reminderEl);
                });
            }

            addReminderBtn.addEventListener('click', openReminderModal);
            cancelReminderBtn.addEventListener('click', closeReminderModal);
            reminderModal.addEventListener('click', (e) => {
                 if(e.target === reminderModal) closeReminderModal();
            });

            reminderForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const newReminder = {
                    id: Date.now(),
                    name: document.getElementById('med-name').value.trim(),
                    times: document.getElementById('med-times').value.trim(),
                    meal: document.getElementById('med-meal').value,
                };
                reminders.push(newReminder);
                saveReminders();
                renderReminders();
                closeReminderModal();
            });
            
            reminderList.addEventListener('click', (e) => {
                const deleteBtn = e.target.closest('.delete-reminder-btn');
                if (deleteBtn) {
                    const reminderId = parseInt(deleteBtn.parentElement.dataset.id, 10);
                    reminders = reminders.filter(r => r.id !== reminderId);
                    saveReminders();
                    renderReminders();
                }
            });

            // --- PAGE-SPECIFIC: BLOOD TEST PANEL LOGIC ---
            const testButtons = document.querySelectorAll('.test-button');
            const panel = document.getElementById('testInfoPanel');
            const panelTitle = document.getElementById('panelTestTitle');
            const panelDescription = document.getElementById('panelTestDescription');
            const panelProcessList = document.getElementById('panelTestProcess');
            const panelCloseBtn = document.querySelector('.panel-close-button');
            const panelContent = document.querySelector('.panel-content');

            const openPanel = (testName) => {
                const data = testData[testName];
                if (!data) return;
                const currentLang = localStorage.getItem('preferredLanguage') || 'en';
                const translatedData = languageTestData[testName]?.[currentLang];
                
                panelTitle.textContent = (translatedData?.title || testName) + " Test";
                panelDescription.textContent = translatedData?.description || data.description;
                
                panelProcessList.innerHTML = '';
                const processSteps = translatedData?.process || data.process;
                processSteps.forEach(step => {
                    const li = document.createElement('li');
                    li.innerHTML = `<i class="fas fa-check-circle"></i><span>${step}</span>`;
                    panelProcessList.appendChild(li);
                });
                
                panelContent.scrollTop = 0;
                panel.classList.add('active');
            };

            const closePanel = () => panel.classList.remove('active');
            
            testButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const currentButtonText = button.textContent.trim();
                    const buttonKey = button.dataset.key;
                    const englishTestName = languageData[buttonKey]?.['en'] || currentButtonText;
                    openPanel(englishTestName);
                });
            });

            if (panelCloseBtn) panelCloseBtn.addEventListener('click', closePanel);
        });
    </script>
</body>
</html>